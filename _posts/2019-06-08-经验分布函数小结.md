---
layout:     post                    # 使用的布局（不需要改）
title:      经验分布函数小结              # 标题 
subtitle:    #副标题
date:       2019-06-08             # 时间
author:     WZY                      # 作者
header-img: img/graph.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
mathjax: true
tags:                               #标签
    - stats
--- 

# 经验分布函数

## 1 引入
数理统计中有个东西叫做经验分布函数，乍一看可能不知道为什么要有这个东西。它的定义是这样的（来自韦来生《数理统计》第二版）：

$$
F_n(x)=
\begin{cases}
0, x\le X_{(1)},\\
\frac k n , X_{(k)}<x\le X_{(k+1)}, k=1,2,...,n-1,\\
1,X_{(n)}<x
\end{cases}
$$

这个东西和分布函数有什么区别呢？我们知道，分布函数其实取值为0-1，单调、非降、左连续（一般这么定义），而上面定义的经验分布函数同样拥有这些基本性质，而在k=1,2,...,n处会有间断。

# 2 经验分布函数详解
## 2.1 经验分布函数的意义
那么我们为什么需要这个经验分布函数呢？

对于一个总体，我们往往希望能够用分布函数$F(x)=P(X<x)$来进行刻画，然而很多时候我们拥有的信息不足，在只知道样本的情况下，想要通过样本估计总体该怎么办？经验分布函数正是这种利用样本估计总体的思想。

观察$F_n(X)$的形式，我们可以将其看做总体分布函数的一个估计量，直观上理解，分布函数中F的取值就是当X=x时，X大于总体中任给一个个体的概率，而经验分布函数的取值就是当X=x时，X大于样本中任给一个个体的概率。

因此，基于以上的理解，经验分布函数的一些性质也就很容易导出了，比如，从其形式上看，经验分布函数时完全依赖于样本的选取的，或者说，经验分布函数和样本一一对应。（另外经验分布函数也很显然是个统计量）

## 2.2 一个例子
$X取自于b(1,p)$，样本$(X_1,...,X_n)$有m个1，n-m个0，这个时候，其经验分布函数是这样的：

$$
F_n(x)=
\begin{cases}
0, x<0,\\
\frac {n-m}{n} , 0\le x<1\\
1,x\ge 1
\end{cases}
$$

这个函数确实只和样本有关（完全取决于n、m），当样本所有都是1，也就是m=n，这个时候，在0-1区间Fn为0，也就是说，这个区间中的数有0概率比样本中任取个体的取值要大。

## 2.3 Glivenko-Cantelli Theorem

为什么要有这样一个定理呢？这个定理很重要，它告诉我们经验分布函数在n足够大的时候，与理论分布函数只有很小的差别（这里体现了这种样本估计总体方法的可靠性）

这个定理也就是这样的一条式子：

$$P(lim_{n\rightarrow ∞}D_n=0)=1$$

这里$Dn=sup_{x\in R}\|F_n(x)-F(x)\|$。

直观上来看，$F_n(x)$也具有大样本性质，但为什么会这样呢？我们构造一组随机变量$Y_i=I_{(-∞,x)}(X_i)$，很显然$P(Y_i=1)=F(x)$而$P(Y_i=0)=1-F(x)$，这个就说明了这组随机变量独立同分布于$b(1,F(x))$，根据概率论的知识我们知道二项分布是具有大样本性质的（根据中心极限定理的依分布收敛、辛钦大数率等），所以上面提到的定理也可以顺便延伸出来了。

$F_n(x)$和二项分布的联系可以用这个式子直观反映出来：

$$P(F_n(x))=\frac k n)=P(\sum_i^n Y_i=k)=C_n^k(F(x))^k(1-F(x))^{n-k}$$
